@inject IAppState AppState

@page "/"
@page "/{catalogId}"

<PageTitle>Nexus</PageTitle>

<div class="min-h-full p-4 flex flex-wrap">
    <div class="w-full h-72 sm:w-1/2 flex flex-col overflow-y-auto pr-0 sm:pr-2">
        <ResourceCatalogView Catalog="AppState.RootCatalog" />
    </div>
    <div class="w-full h-72 sm:w-1/2 pl-0 sm:pl-2">
        @if (AppState.SelectedCatalog is null || AppState.SelectedCatalog.GetType() == typeof(FakeResourceCatalogViewModel))
        {
            <div class="flex w-full h-full justify-center">
                <h1 class="text-xl text-gray-400">no data available</h1>
            </div>
        }
        else
        {
            <SelectedResourceCatalogView Catalog="AppState.SelectedCatalog" />
        }
    </div>
    <div class="w-full sm:w-1/2">
        Test 2
    </div>
</div>

@code {

    protected override Task OnParametersSetAsync()
    {
        return AppState.SelectCatalogAsync(CatalogId);
    }

    [Parameter]
    public string? CatalogId { get; set; }
}


@inject IAppState AppState

@page "/"
@page "/{catalogId}"

<PageTitle>Nexus</PageTitle>

<div class="h-full p-4">
    <div class="flex h-1/3">
        <div class="flex flex-col flex-1">
            <ResourceCatalogView Catalog="AppState.RootCatalog" />
        </div>
        <div class="flex-1">
            @if (AppState.SelectedCatalog is not null)
            {
                <h1 class="text-2xl">@Utilities.ToSpaceFilledCatalogId(AppState.SelectedCatalog.Id)</h1>
            }
        </div>
    </div>
    <div class="h-2/3">
        Test 2
    </div>
</div>

@code {

    protected override Task OnParametersSetAsync()
    {
        return AppState.SelectCatalogAsync(CatalogId);
    }

    [Parameter]
    public string? CatalogId { get; set; }
}

